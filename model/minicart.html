{%- capture section_settings -%}
{
  "showShippingEstimator": {% if cart.item_count == 0 %}false{% else %}{{ section.settings.show_shipping_estimator | json }}{% endif %}
}
{%- endcapture -%}
<section
  data-section-id="{{ section.id }}"
  data-section-type="cart"
  data-section-settings="{{ section_settings }}"
  data-item-count="{{ cart.item_count }}"
>
  {%- if cart.item_count == 0 -%}
    <div class="container">
      <div class="empty-state">
        <div class="empty-state__icon">
          {%- render 'icon', icon: 'big-cart' -%}
        </div>

        <p class="empty-state__heading heading h1">{{ 'cart.general.empty' | t }}</p>

        {%- if settings.cart_show_free_shipping_threshold -%}
          {%- assign threshold_in_cents = settings.cart_free_shipping_threshold | times: 100 -%}
          {%- capture remaining_amount -%}<span>{{ cart.total_price | minus: threshold_in_cents | abs | money }}</span>{%- endcapture -%}
          <p class="empty-state__description">
            {{ 'cart.general.free_shipping_remaining_html' | t: remaining_amount: remaining_amount }}
          </p>
        {%- endif -%}

        <div class="empty-state__button-container">
          <a
            href="{{ settings.cart_empty_button_link | default: routes.root_url }}"
            class="empty-state__button button button--primary"
          >
            {{- 'cart.general.empty_button' | t -}}
          </a>
        </div>
      </div>
    </div>
  {%- else -%}
    <div class="container">
      <header class="page__header page__header--stack">
        <h1 class="page__title heading h1">{{ 'cart.general.title' | t }}</h1>
        {%- if settings.cart_show_free_shipping_threshold -%}
          {%- assign threshold_in_cents = settings.cart_free_shipping_threshold | times: 100 -%}

          {%- if cart.total_price >= threshold_in_cents -%}
            <p class="page__description">{{ 'cart.general.free_shipping' | t }}</p>
          {%- else -%}
            {%- capture remaining_amount -%}<span>{{ cart.total_price | minus: threshold_in_cents | abs | money }}</span>{%- endcapture -%}
            <p class="page__description">
              {{ 'cart.general.free_shipping_remaining_html' | t: remaining_amount: remaining_amount }}
            </p>
          {%- endif -%}
        {%- endif -%}
      </header>
    </div>

    <div class="cart-wrapper">
      <div class="cart-wrapper__inner">
        <div class="cart-wrapper__inner-inner">
          <div class="container container--flush">
            {%- comment -%}
              --------------------------------------------------------------------------------------
              LINE ITEMS
              --------------------------------------------------------------------------------------
            {%- endcomment -%}

            <div class="card">
              <div class="table-wrapper">
                <table class="line-item-table table table--loose">
                  <thead class="hidden-phone">
                    <tr>
                      <th>{{ 'customer.order.product' | t }}</th>
                      <th class="table__cell--center">{{ 'customer.order.quantity' | t }}</th>
                      <th class="table__cell--right">{{ 'customer.order.total' | t }}</th>
                    </tr>
                  </thead>

                  <tbody>
                    {%- assign gift_wrap_product = section.settings.gift_wrap_product -%}

                    {%- for line_item in cart.items -%}
                      <tr class="line-item line-item--stack">
                        <td class="line-item__product-info">
                          <div class="line-item__product-info-wrapper">
                            <div class="line-item__image-wrapper">
                              {%- comment -%}For vertical images we force to contain them on a square ratio to avoid growing too large{%- endcomment -%}

                              {%- if line_item.image.aspect_ratio < 1 -%}
                                <div class="aspect-ratio aspect-ratio--square">
                                  <img
                                    src="{{ line_item.image | img_url: '180x' }}"
                                    alt="{{ line_item.image.alt | escape }}"
                                  >
                                </div>
                              {%- else -%}
                                <div
                                  class="aspect-ratio"
                                  style="padding-bottom: {{ 100.0 | divided_by: line_item.image.aspect_ratio }}%"
                                >
                                  <img
                                    src="{{ line_item.image | img_url: '180x' }}"
                                    alt="{{ line_item.image.alt | escape }}"
                                  >
                                </div>
                              {%- endif -%}
                            </div>

                            <div class="line-item__meta">
                              {%- if settings.show_vendor and gift_wrap_product.handle != line_item.product.handle -%}
                                {%- assign vendor_handle = line_item.product.vendor | handle -%}
                                {%- assign collection_for_vendor = collections[vendor_handle] -%}

                                {%- unless collection_for_vendor.empty? -%}
                                  <a class="line-item__vendor link" href="{{ collection_for_vendor.url }}">
                                    {{- line_item.product.vendor -}}
                                  </a>
                                {%- else -%}
                                  <a
                                    class="line-item__vendor link"
                                    href="{{ line_item.product.vendor | url_for_vendor }}"
                                  >
                                    {{- line_item.product.vendor -}}
                                  </a>
                                {%- endunless -%}
                              {%- endif -%}

                              {%- if gift_wrap_product.handle == line_item.product.handle -%}
                                <span class="line-item__title text--strong">{{ line_item.title }}</span>
                              {%- else -%}
                                <a href="{{ line_item.url }}" class="line-item__title link text--strong">
                                  {{- line_item.title -}}
                                </a>
                              {%- endif -%}

                              {%- if line_item.selling_plan_allocation -%}
                                <p class="line-item__plan-allocation">
                                  {{ line_item.selling_plan_allocation.selling_plan.name }}
                                </p>
                              {%- endif -%}

                              {%- unless line_item.properties == blank -%}
                                <ul class="line-item__property-list" role="list">
                                  {%- for property in line_item.properties -%}
                                    {%- assign first_character_in_key = property.first | truncate: 1, '' -%}

                                    {%- if property.last == blank or first_character_in_key == '_' -%}
                                      {%- continue -%}
                                    {%- endif -%}

                                    <li class="line-item__property">{{ property.first }}: {{ property.last }}</li>
                                  {%- endfor -%}
                                </ul>
                              {%- endunless -%}

                              <div class="line-item__price-list">
                                {%- if line_item.original_price > line_item.final_price -%}
                                  {%- if line_item.final_price == 0 -%}
                                    <span class="line-item__price line-item__price--highlight">
                                      {{- 'cart.general.free' | t -}}
                                    </span>
                                  {%- else -%}
                                    <span class="line-item__price line-item__price--highlight">
                                      {{- line_item.final_price | money -}}
                                    </span>
                                  {%- endif -%}

                                  <span class="line-item__price line-item__price--compare">
                                    {{- line_item.original_price | money -}}
                                  </span>
                                {%- elsif line_item.variant.compare_at_price > line_item.variant.price -%}
                                  {%- if line_item.final_price == 0 -%}
                                    <span class="line-item__price line-item__price--highlight">
                                      {{- 'cart.general.free' | t -}}
                                    </span>
                                  {%- else -%}
                                    <span class="line-item__price line-item__price--highlight">
                                      {{- line_item.final_price | money -}}
                                    </span>
                                  {%- endif -%}

                                  <span class="line-item__price line-item__price--compare">
                                    {{- line_item.variant.compare_at_price | money -}}
                                  </span>
                                {%- else -%}
                                  {%- if line_item.final_price == 0 -%}
                                    <span class="line-item__price">{{ 'cart.general.free' | t }}</span>
                                  {%- else -%}
                                    <span class="line-item__price">{{ line_item.final_price | money }}</span>
                                  {%- endif -%}
                                {%- endif -%}
                              </div>

                              {%- if line_item.unit_price_measurement -%}
                                <div class="line-item__price-info">
                                  <div class="unit-price-measurement">
                                    <span class="unit-price-measurement__price">
                                      {{- line_item.unit_price | money -}}
                                    </span>
                                    <span class="unit-price-measurement__separator">/ </span>

                                    {%- if line_item.unit_price_measurement.reference_value != 1 -%}
                                      <span class="unit-price-measurement__reference-value">
                                        {{- line_item.unit_price_measurement.reference_value -}}
                                      </span>
                                    {%- endif -%}

                                    <span class="unit-price-measurement__reference-unit">
                                      {{- line_item.unit_price_measurement.reference_unit -}}
                                    </span>
                                  </div>
                                </div>
                              {%- endif -%}

                              {%- if line_item.line_level_discount_allocations != blank -%}
                                <ul class="line-item__discount-list" role="list">
                                  {%- for discount_allocation in line_item.line_level_discount_allocations -%}
                                    <li class="line-item__discount">
                                      {%- render 'icon', icon: 'sale' -%}
                                      {{ discount_allocation.discount_application.title }} (-
                                      {{- discount_allocation.amount | money -}}
                                      )
                                    </li>
                                  {%- endfor -%}
                                </ul>
                              {%- endif -%}

                              <div class="line-item__quantity hidden-tablet-and-up">
                                {%- comment -%}If the product has the tag "__gift", we remove the price{%- endcomment -%}

                                {%- unless line_item.product.tags contains '__gift' -%}
                                  <div class="quantity-selector">
                                    {%- assign allow_to_add_more = true -%}

                                    {%- if line_item.variant.inventory_management
                                      and line_item.variant.inventory_policy == 'deny'
                                      and line_item.quantity == line_item.variant.inventory_quantity
                                    -%}
                                      {%- assign allow_to_add_more = false -%}
                                    {%- endif -%}

                                    <button
                                      type="button"
                                      class="quantity-selector__button"
                                      data-action="decrease-quantity"
                                      data-href="{{ routes.cart_change_url }}?quantity={{ line_item.quantity | minus: 1 }}&line={{ forloop.index }}"
                                      data-quantity="{{ line_item.quantity | minus: 1 }}"
                                      data-line="{{ forloop.index }}"
                                      aria-label="{{ 'cart.items.decrease_quantity' | t }}"
                                      title="{{ 'cart.items.decrease_quantity' | t }}"
                                    >
                                      {% render 'icon', icon: 'minus' %}
                                    </button>
                                    <input
                                      aria-label="{{ 'product.form.quantity' | t }}"
                                      class="quantity-selector__value"
                                      inputmode="numeric"
                                      data-current-value="{{ line_item.quantity }}"
                                      data-line="{{ forloop.index }}"
                                      value="{{ line_item.quantity }}"
                                      size="{{ line_item.quantity | append: '' | size | at_least: 2 }}"
                                    >
                                    <button
                                      type="button"
                                      class="quantity-selector__button"
                                      data-action="increase-quantity"
                                      data-href="{{ routes.cart_change_url }}?quantity={{ line_item.quantity | plus: 1 }}&line={{ forloop.index }}"
                                      data-quantity="{{ line_item.quantity | plus: 1 }}"
                                      data-line="{{ forloop.index }}"
                                      {% if allow_to_add_more %}
                                        aria-label="{{ 'cart.items.increase_quantity' | t }}"
                                        title="{{ 'cart.items.increase_quantity' | t }}"
                                      {% else %}
                                        disabled="disabled" aria-label="{{ 'cart.items.no_more_stock' | t }}"
                                        data-tooltip="{{ 'cart.items.no_more_stock' | t }}"
                                        data-tooltip-position="bottom-left"
                                      {% endif %}
                                    >
                                      {% render 'icon', icon: 'plus' %}
                                    </button>
                                  </div>
                                {%- else -%}
                                  <span>{{ line_item.quantity }}</span>
                                {% endunless -%}

                                <a
                                  href="{{ routes.cart_change_url }}?quantity=0&line={{ forloop.index }}"
                                  data-action="decrease-quantity"
                                  data-quantity="0"
                                  data-line="{{ forloop.index }}"
                                  class="line-item__quantity-remove link"
                                >
                                  {{- 'cart.items.remove' | t -}}
                                </a>
                              </div>
                            </div>
                          </div>
                        </td>

                        <td class="line-item__quantity table__cell--center hidden-phone">
                          {%- comment -%}If the product has the tag "__gift", we remove the price{%- endcomment -%}

                          {%- unless line_item.product.tags contains '__gift' -%}
                            <div class="quantity-selector">
                              {%- assign allow_to_add_more = true -%}

                              {%- if line_item.variant.inventory_management
                                and line_item.variant.inventory_policy == 'deny'
                                and line_item.quantity == line_item.variant.inventory_quantity
                              -%}
                                {%- assign allow_to_add_more = false -%}
                              {%- endif -%}

                              <button
                                type="button"
                                class="quantity-selector__button"
                                data-action="decrease-quantity"
                                data-href="{{ routes.cart_change_url }}?quantity={{ line_item.quantity | minus: 1 }}&line={{ forloop.index }}"
                                data-quantity="{{ line_item.quantity | minus: 1 }}"
                                data-line="{{ forloop.index }}"
                                aria-label="{{ 'cart.items.decrease_quantity' | t }}"
                                title="{{ 'cart.items.decrease_quantity' | t }}"
                              >
                                {% render 'icon', icon: 'minus' %}
                              </button>
                              <input
                                aria-label="{{ 'product.form.quantity' | t }}"
                                class="quantity-selector__value"
                                inputmode="numeric"
                                data-current-value="{{ line_item.quantity }}"
                                data-line="{{ forloop.index }}"
                                value="{{ line_item.quantity }}"
                                size="{{ line_item.quantity | append: '' | size | at_least: 2 }}"
                              >
                              <button
                                type="button"
                                class="quantity-selector__button"
                                data-action="increase-quantity"
                                data-href="{{ routes.cart_change_url }}?quantity={{ line_item.quantity | plus: 1 }}&line={{ forloop.index }}"
                                data-quantity="{{ line_item.quantity | plus: 1 }}"
                                data-line="{{ forloop.index }}"
                                {% if allow_to_add_more %}
                                  aria-label="{{ 'cart.items.increase_quantity' | t }}"
                                  title="{{ 'cart.items.increase_quantity' | t }}"
                                {% else %}
                                  disabled="disabled" aria-label="{{ 'cart.items.no_more_stock' | t }}"
                                  data-tooltip="{{ 'cart.items.no_more_stock' | t }}"
                                  data-tooltip-position="bottom-left"
                                {% endif %}
                              >
                                {% render 'icon', icon: 'plus' %}
                              </button>
                            </div>
                          {%- else -%}
                            <span>{{ line_item.quantity }}</span>
                          {%- endunless -%}

                          <a
                            href="{{ routes.cart_change_url }}?quantity=0&line={{ forloop.index }}"
                            data-action="decrease-quantity"
                            data-quantity="0"
                            data-line="{{ forloop.index }}"
                            class="line-item__quantity-remove link"
                          >
                            {{- 'cart.items.remove' | t -}}
                          </a>
                        </td>

                        <td class="line-item__line-price table__cell--right hidden-phone">
                          {%- if line_item.final_line_price == 0 -%}
                            {{- 'cart.general.free' | t -}}
                          {%- else -%}
                            <span>{{ line_item.final_line_price | money }}</span>
                          {%- endif -%}
                        </td>
                      </tr>
                    {%- endfor -%}
                  </tbody>
                </table>
              </div>
            </div>

            {%- comment -%}
              --------------------------------------------------------------------------------------
              GIFT WRAP
              --------------------------------------------------------------------------------------
            {%- endcomment -%}

            {%- assign gift_wrap_product = section.settings.gift_wrap_product -%}

            {%- unless gift_wrap_product == blank or gift_wrap_product.available == false -%}
              {%- comment -%}We also have to do another check to make sure the gift wrap product is not already in the cart{%- endcomment -%}

              {%- assign gift_wrap_in_cart = false -%}

              {%- for line_item in cart.items -%}
                {%- if line_item.product_id == gift_wrap_product.id -%}
                  {%- assign gift_wrap_in_cart = true -%}
                  {%- break -%}
                {%- endif -%}
              {%- endfor -%}

              {%- unless gift_wrap_in_cart -%}
                <div class="card">
                  <div class="gift-wrap">
                    <div class="gift-wrap__left">
                      <span class="gift-wrap__icon">{% render 'icon', icon: 'bi-gift-wrap' %}</span>

                      <p class="gift-wrap__text">
                        <span class="text--strong">{{ section.settings.gift_wrap_text | escape }}</span>

                        {%- if gift_wrap_product.price == 0 -%}
                          <span>{{ 'cart.general.free' | t }}</span>
                        {%- else -%}
                          {%- capture gift_wrap_product_price -%}<span>{{ gift_wrap_product.price | money }}</span>{%- endcapture -%}
                          <span>{{ 'cart.gift_wrap.price_html' | t: price: gift_wrap_product_price }}</span>
                        {%- endif -%}
                      </p>
                    </div>

                    {%- form 'product', gift_wrap_product, class: 'gift-wrap__form' -%}
                      <input type="hidden" name="quantity" value="1">
                      <input
                        type="hidden"
                        name="id"
                        data-sku="{{ gift_wrap_product.first_available_variant.sku }}"
                        value="{{ gift_wrap_product.first_available_variant.id }}"
                      >

                      <button type="submit" class="button button--secondary" data-action="add-to-cart">
                        {{ section.settings.gift_wrap_button | escape }}
                      </button>
                    {%- endform -%}
                  </div>
                </div>
              {%- endunless -%}
            {%- endunless -%}

            {%- comment -%}
              --------------------------------------------------------------------------------------
              SHIPPING ESTIMATOR
              --------------------------------------------------------------------------------------
            {%- endcomment -%}

            {%- assign items_requiring_shipping = cart.items | where: 'requires_shipping' -%}

            {%- if section.settings.show_shipping_estimator and items_requiring_shipping.size > 0 -%}
              <div class="card">
                <div class="estimate-shipping">
                  <button
                    type="button"
                    class="estimate-shipping__toggle"
                    data-action="toggle-collapsible"
                    data-collapsible-force-overflow
                    aria-expanded="false"
                    aria-controls="shipping-estimator"
                  >
                    <span class="estimate-shipping__icon">{% render 'icon', icon: 'bi-fast-delivery' %}</span>
                    <span class="estimate-shipping__text">{{ 'cart.shipping_estimator.title' | t }}</span>
                    <span class="estimate-shipping__arrow">{% render 'icon', icon: 'arrow-bottom' %}</span>
                  </button>

                  <div id="shipping-estimator" class="estimate-shipping__collapsible collapsible">
                    <div class="shipping-estimator form" role="form">
                      <div class="form__input-row">
                        <div class="form__input-wrapper">
                          <label for="shipping-estimator-country" class="form__label form__label--light">
                            {{- 'cart.shipping_estimator.country' | t -}}
                          </label>

                          <div class="select-wrapper select-wrapper--primary">
                            {%- render 'icon', icon: 'arrow-bottom' -%}

                            <select
                              name="country"
                              id="shipping-estimator-country"
                              data-default="{{ customer.default_address.country | default: section.settings.shipping_estimator_default_country }}"
                              required
                            >
                              {{- country_option_tags -}}
                            </select>
                          </div>
                        </div>

                        <div class="form__input-wrapper" style="display: none">
                          <label for="shipping-estimator-province" class="form__label form__label--light">
                            {{- 'cart.shipping_estimator.province' | t -}}
                          </label>

                          <div class="select-wrapper select-wrapper--primary">
                            {%- render 'icon', icon: 'arrow-bottom' -%}

                            <select
                              name="province"
                              id="shipping-estimator-province"
                              data-default="{{ customer.default_address.province }}"
                            ></select>
                          </div>
                        </div>

                        <div class="form__input-wrapper" style="max-width: 155px">
                          <label for="shipping-estimator-zip" class="form__label form__label--light">
                            {{- 'cart.shipping_estimator.zip_code' | t -}}
                          </label>
                          <input
                            type="text"
                            name="zip"
                            id="shipping-estimator-zip"
                            class="form__field form__field--text"
                            value="{{ customer.default.address.zip }}"
                            required
                          >
                        </div>

                        <div class="form__input-wrapper hidden-phone">
                          <button
                            type="button"
                            class="form__submit button button--secondary"
                            data-action="estimate-shipping"
                          >
                            {{ 'cart.shipping_estimator.estimate' | t }}
                          </button>
                        </div>
                      </div>

                      <button
                        type="button"
                        class="form__submit button button--secondary hidden-tablet-and-up"
                        data-action="estimate-shipping"
                      >
                        {{ 'cart.shipping_estimator.estimate' | t }}
                      </button>

                      <div class="shipping-estimator__results" style="display: none;"></div>
                    </div>
                  </div>
                </div>
              </div>
            {%- endif -%}

            {%- comment -%}
              --------------------------------------------------------------------------------------
              RECAP
              --------------------------------------------------------------------------------------
            {%- endcomment -%}

            <div class="cart-recap">
              <div class="cart-recap__scroller">
                <div class="card">
                  <div class="card__section">
                    {%- if cart.cart_level_discount_applications != blank -%}
                      {%- for discount_application in cart.cart_level_discount_applications -%}
                        <div class="cart-recap__price-line cart-recap__price-line--highlight text--pull">
                          <span class="cart-recap__price-line-label">{{ discount_application.title }}</span>
                          <span class="cart-recap__price-line-price"
                            >-{{ discount_application.total_allocated_amount | money -}}
                          </span>
                        </div>
                      {%- endfor -%}
                    {%- endif -%}

                    <div class="cart-recap__price-line text--pull">
                      <span class="cart-recap__price-line-label">{{ 'cart.general.total' | t }}</span>
                      <span class="cart-recap__price-line-price">{{ cart.total_price | money_with_currency }}</span>
                    </div>

                    {%- comment -%}
                      To calculate the total discount, we take into account the Shopify Script (for Plus merchants), but we also add the compare at price as
                      well as potential automatic discounts at cart level
                    {%- endcomment -%}

                    {%- assign total_discount = 0 -%}

                    {%- for line_item in cart.items -%}
                      {%- if line_item.final_line_price < line_item.original_line_price -%}
                        {%- assign total_discount = total_discount | plus: line_item.total_discount -%}
                      {%- elsif line_item.variant.compare_at_price > line_item.variant.price -%}
                        {%- assign line_discount = line_item.variant.compare_at_price
                          | minus: line_item.variant.price
                          | times: line_item.quantity
                        -%}
                        {%- assign total_discount = total_discount | plus: line_discount -%}
                      {%- endif -%}
                    {%- endfor -%}

                    {%- for discount_application in cart.cart_level_discount_applications -%}
                      {%- assign total_discount = total_discount | plus: discount_application.total_allocated_amount -%}
                    {%- endfor -%}

                    {%- if total_discount > 0 -%}
                      {%- capture amount_saved -%}<span>{{ total_discount | money }}</span>{%- endcapture -%}
                      <span class="cart-recap__amount-saved">
                        {{- 'cart.general.amount_saved_html' | t: amount_saved: amount_saved -}}
                      </span>
                    {%- endif -%}

                    {%- if section.settings.enable_order_notes -%}
                      <div class="cart-recap__note">
                        <button
                          type="button"
                          class="cart-recap__note-button"
                          data-action="toggle-collapsible"
                          data-collapsible-force-overflow
                          aria-controls="order-note"
                          aria-expanded="false"
                        >
                          {{- 'cart.general.note_title' | t -}}
                          <span>
                            <span class="cart-recap__note-edit {% if cart.note != blank %}is-visible{% endif %}">
                              {{- 'cart.general.edit_note' | t -}}
                            </span>
                            {%- render 'icon', icon: 'arrow-bottom' -%}
                          </span>
                        </button>

                        <div id="order-note" class="collapsible" aria-hidden="true">
                          <div class="cart-recap__note-inner">
                            <textarea
                              name="note"
                              class="form__field form__field--textarea"
                              rows="3"
                            >{{ cart.note }}</textarea>
                            <button
                              type="button"
                              class="form__submit form__submit--tight button button--secondary"
                              data-action="save-note"
                            >
                              {{ 'cart.general.save_note' | t }}
                            </button>
                          </div>
                        </div>
                      </div>
                    {%- endif -%}

                    <div class="cart-recap__notices rte">
                      <p>
                        {%- if cart.taxes_included and shop.shipping_policy.body != blank -%}
                          {{
                            'cart.general.taxes_included_and_shipping_policy_html'
                            | t: link: shop.shipping_policy.url
                          }}
                        {%- elsif cart.taxes_included -%}
                          {{ 'cart.general.taxes_included_but_shipping_at_checkout' | t }}
                        {%- elsif shop.shipping_policy.body != blank -%}
                          {{
                            'cart.general.taxes_and_shipping_policy_at_checkout_html'
                            | t: link: shop.shipping_policy.url
                          }}
                        {%- else -%}
                          {{ 'cart.general.taxes_and_shipping_at_checkout' | t }}
                        {%- endif -%}
                      </p>
                    </div>

                    <input type="hidden" name="attributes[collection_products_per_page]" value="">
                    <input type="hidden" name="attributes[collection_layout]" value="">
                    <!--
                      <button type="submit" name="checkout" class="cart-recap__checkout button button--primary button--full button--large">{{ 'cart.general.checkout' | t }}</button>
                    -->

                    <div class="form-group">
                      <label for="purchase_order_reference">Purchase Order Reference (optional)</label>
                      <input
                        type="text"
                        class="form-control"
                        name="purchase_order_reference"
                        id="purchase_order_reference"
                        placeholder=""
                      >
                    </div>
                    <span id="checkout-button"></span>
                    <script
                      type="text/javascript"
                    >
                      var isLoggedIn;
                      var loggedInUserData;
                      
                      var getCookie = function(name) {
                        var value = "; " + document.cookie;
                        var parts = value.split('; '+name+'=');
                        if (parts.length == 2) return parts.pop().split(";").shift();
                      };
                      isLoggedIn = getCookie('isLoggedIn');
      
                      if(isLoggedIn){
                        loggedInUserData = JSON.parse(getCookie('loggedInUserData'));
                        document.getElementById("checkout-button").innerHTML=`<form method="post" novalidate="novalidate" id="authCartEnqForm" name="auth-cart-enquiry-form">
                          <input type="hidden" name="org_id" value="${loggedInUserData.org_id}">
                          <input type="hidden" name="user_id" value="${loggedInUserData.user_id}">
                          <input type="hidden" name="role_id" value="${loggedInUserData.role_id}">
                          <input type="hidden" name="parent_user_id" value="${loggedInUserData.parent_user_id}">
                          <button type="submit" class="authenquirybtn">Enquire Now</button>
                        </form>`;
                      }
                      if(!isLoggedIn){
                        document.getElementById("checkout-button").innerHTML=`<a class="enquirybtn" onclick="opemodal('enquiry')">Enquire Now</a>`;
                      }
                    </script>
                  </div>
                </div>

                {%- if section.settings.show_payment_icons -%}
                  <div class="cart-recap__secure-payment">
                    <p class="cart-recap__secure-payment-title">
                      {% render 'icon', icon: 'lock-2' %}
                      {{ 'cart.general.secure_payments' | t }}
                    </p>

                    <div class="cart-recap__secure-payment-list payment-list payment-list--centered">
                      {% for type in shop.enabled_payment_types %}
                        {{ type | payment_type_svg_tag: class: 'payment-list__item' }}
                      {% endfor %}
                    </div>
                  </div>
                {%- endif -%}
              </div>
            </div>
            <div id="auth-enq-msg" class="sucesspopup"></div>

            <!-- --------enquirymodal---------- -->
            <div class="proweb">
              <div class="modal-new" id="enquiry">
                <div class="modalbody">
                  <a class="closedbtn" onclick="closedmodal('enquiry')"><span>close</span></a>
                  <div class="modal-body-content">
                    <h1>Submit Enquiry</h1>
                    <div id="enq-msg"></div>
                    <form method="post" novalidate="novalidate" id="cartEnqForm" name="cart-enquiry-form">
                      <div class="form-group">
                        <label for="first_name">First Name</label>
                        <input
                          type="text"
                          class="form-control"
                          name="first_name"
                          value="{{ customer.first_name }}"
                          id="first_name"
                          placeholder=""
                        >
                      </div>
                      <div class="form-group">
                        <label for="last_name">Last Name</label>
                        <input
                          type="text"
                          class="form-control"
                          name="last_name"
                          value="{{ customer.last_name }}"
                          id="last_name"
                          placeholder=""
                        >
                      </div>
                      <div class="form-group">
                        <label for="email">Email address</label>
                        <input
                          type="email"
                          class="form-control"
                          name="email"
                          value="{{ customer.email }}"
                          id="email"
                          placeholder=""
                        >
                      </div>
                      <div class="form-group">
                        <label for="contact_number">Contact number</label>
                        <input
                          type="text"
                          class="form-control"
                          name="contact_number"
                          value="{{ customer.phone }}"
                          id="contact_number"
                          placeholder=""
                        >
                      </div>
                      <div class="form-group">
                        <label for="address_line1">Address Line 1</label>
                        <input class="form-control " id="address_line1" name="address_line1" rows="3">
                      </div>
                      <div class="form-group">
                        <label for="address_line1">Address Line 2</label>
                        <input class="form-control " id="address_line2" name="address_line2" rows="3">
                      </div>
                      <div class="form-group">
                        <label for="country">Country</label>
                        <select class="input-controls" name="country">
                          <option value="" selected hidden>Select country</option>
                          <option value="AF">Afghanistan</option>
                          <option value="AX">Aland Islands</option>
                          <option value="AL">Albania</option>
                          <option value="DZ">Algeria</option>
                          <option value="AS">American Samoa</option>
                          <option value="AD">Andorra</option>
                          <option value="AO">Angola</option>
                          <option value="AI">Anguilla</option>
                          <option value="AQ">Antarctica</option>
                          <option value="AG">Antigua and Barbuda</option>
                          <option value="AR">Argentina</option>
                          <option value="AM">Armenia</option>
                          <option value="AW">Aruba</option>
                          <option value="AU">Australia</option>
                          <option value="AT">Austria</option>
                          <option value="AZ">Azerbaijan</option>
                          <option value="BS">Bahamas</option>
                          <option value="BH">Bahrain</option>
                          <option value="BD">Bangladesh</option>
                          <option value="BB">Barbados</option>
                          <option value="BY">Belarus</option>
                          <option value="BE">Belgium</option>
                          <option value="BZ">Belize</option>
                          <option value="BJ">Benin</option>
                          <option value="BM">Bermuda</option>
                          <option value="BT">Bhutan</option>
                          <option value="BO">Bolivia</option>
                          <option value="BQ">Bonaire, Sint Eustatius and Saba</option>
                          <option value="BA">Bosnia and Herzegovina</option>
                          <option value="BW">Botswana</option>
                          <option value="BV">Bouvet Island</option>
                          <option value="BR">Brazil</option>
                          <option value="IO">British Indian Ocean Territory</option>
                          <option value="BN">Brunei Darussalam</option>
                          <option value="BG">Bulgaria</option>
                          <option value="BF">Burkina Faso</option>
                          <option value="BI">Burundi</option>
                          <option value="KH">Cambodia</option>
                          <option value="CM">Cameroon</option>
                          <option value="CA">Canada</option>
                          <option value="CV">Cape Verde</option>
                          <option value="KY">Cayman Islands</option>
                          <option value="CF">Central African Republic</option>
                          <option value="TD">Chad</option>
                          <option value="CL">Chile</option>
                          <option value="CN">China</option>
                          <option value="CX">Christmas Island</option>
                          <option value="CC">Cocos (Keeling) Islands</option>
                          <option value="CO">Colombia</option>
                          <option value="KM">Comoros</option>
                          <option value="CG">Congo</option>
                          <option value="CD">Congo, Democratic Republic of the Congo</option>
                          <option value="CK">Cook Islands</option>
                          <option value="CR">Costa Rica</option>
                          <option value="CI">Cote D'Ivoire</option>
                          <option value="HR">Croatia</option>
                          <option value="CU">Cuba</option>
                          <option value="CW">Curacao</option>
                          <option value="CY">Cyprus</option>
                          <option value="CZ">Czech Republic</option>
                          <option value="DK">Denmark</option>
                          <option value="DJ">Djibouti</option>
                          <option value="DM">Dominica</option>
                          <option value="DO">Dominican Republic</option>
                          <option value="EC">Ecuador</option>
                          <option value="EG">Egypt</option>
                          <option value="SV">El Salvador</option>
                          <option value="GQ">Equatorial Guinea</option>
                          <option value="ER">Eritrea</option>
                          <option value="EE">Estonia</option>
                          <option value="ET">Ethiopia</option>
                          <option value="FK">Falkland Islands (Malvinas)</option>
                          <option value="FO">Faroe Islands</option>
                          <option value="FJ">Fiji</option>
                          <option value="FI">Finland</option>
                          <option value="FR">France</option>
                          <option value="GF">French Guiana</option>
                          <option value="PF">French Polynesia</option>
                          <option value="TF">French Southern Territories</option>
                          <option value="GA">Gabon</option>
                          <option value="GM">Gambia</option>
                          <option value="GE">Georgia</option>
                          <option value="DE">Germany</option>
                          <option value="GH">Ghana</option>
                          <option value="GI">Gibraltar</option>
                          <option value="GR">Greece</option>
                          <option value="GL">Greenland</option>
                          <option value="GD">Grenada</option>
                          <option value="GP">Guadeloupe</option>
                          <option value="GU">Guam</option>
                          <option value="GT">Guatemala</option>
                          <option value="GG">Guernsey</option>
                          <option value="GN">Guinea</option>
                          <option value="GW">Guinea-Bissau</option>
                          <option value="GY">Guyana</option>
                          <option value="HT">Haiti</option>
                          <option value="HM">Heard Island and Mcdonald Islands</option>
                          <option value="VA">Holy See (Vatican City State)</option>
                          <option value="HN">Honduras</option>
                          <option value="HK">Hong Kong</option>
                          <option value="HU">Hungary</option>
                          <option value="IS">Iceland</option>
                          <option value="IN">India</option>
                          <option value="ID">Indonesia</option>
                          <option value="IR">Iran, Islamic Republic of</option>
                          <option value="IQ">Iraq</option>
                          <option value="IE">Ireland</option>
                          <option value="IM">Isle of Man</option>
                          <option value="IL">Israel</option>
                          <option value="IT">Italy</option>
                          <option value="JM">Jamaica</option>
                          <option value="JP">Japan</option>
                          <option value="JE">Jersey</option>
                          <option value="JO">Jordan</option>
                          <option value="KZ">Kazakhstan</option>
                          <option value="KE">Kenya</option>
                          <option value="KI">Kiribati</option>
                          <option value="KP">Korea, Democratic People's Republic of</option>
                          <option value="KR">Korea, Republic of</option>
                          <option value="XK">Kosovo</option>
                          <option value="KW">Kuwait</option>
                          <option value="KG">Kyrgyzstan</option>
                          <option value="LA">Lao People's Democratic Republic</option>
                          <option value="LV">Latvia</option>
                          <option value="LB">Lebanon</option>
                          <option value="LS">Lesotho</option>
                          <option value="LR">Liberia</option>
                          <option value="LY">Libyan Arab Jamahiriya</option>
                          <option value="LI">Liechtenstein</option>
                          <option value="LT">Lithuania</option>
                          <option value="LU">Luxembourg</option>
                          <option value="MO">Macao</option>
                          <option value="MK">Macedonia, the Former Yugoslav Republic of</option>
                          <option value="MG">Madagascar</option>
                          <option value="MW">Malawi</option>
                          <option value="MY">Malaysia</option>
                          <option value="MV">Maldives</option>
                          <option value="ML">Mali</option>
                          <option value="MT">Malta</option>
                          <option value="MH">Marshall Islands</option>
                          <option value="MQ">Martinique</option>
                          <option value="MR">Mauritania</option>
                          <option value="MU">Mauritius</option>
                          <option value="YT">Mayotte</option>
                          <option value="MX">Mexico</option>
                          <option value="FM">Micronesia, Federated States of</option>
                          <option value="MD">Moldova, Republic of</option>
                          <option value="MC">Monaco</option>
                          <option value="MN">Mongolia</option>
                          <option value="ME">Montenegro</option>
                          <option value="MS">Montserrat</option>
                          <option value="MA">Morocco</option>
                          <option value="MZ">Mozambique</option>
                          <option value="MM">Myanmar</option>
                          <option value="NA">Namibia</option>
                          <option value="NR">Nauru</option>
                          <option value="NP">Nepal</option>
                          <option value="NL">Netherlands</option>
                          <option value="AN">Netherlands Antilles</option>
                          <option value="NC">New Caledonia</option>
                          <option value="NZ">New Zealand</option>
                          <option value="NI">Nicaragua</option>
                          <option value="NE">Niger</option>
                          <option value="NG">Nigeria</option>
                          <option value="NU">Niue</option>
                          <option value="NF">Norfolk Island</option>
                          <option value="MP">Northern Mariana Islands</option>
                          <option value="NO">Norway</option>
                          <option value="OM">Oman</option>
                          <option value="PK">Pakistan</option>
                          <option value="PW">Palau</option>
                          <option value="PS">Palestinian Territory, Occupied</option>
                          <option value="PA">Panama</option>
                          <option value="PG">Papua New Guinea</option>
                          <option value="PY">Paraguay</option>
                          <option value="PE">Peru</option>
                          <option value="PH">Philippines</option>
                          <option value="PN">Pitcairn</option>
                          <option value="PL">Poland</option>
                          <option value="PT">Portugal</option>
                          <option value="PR">Puerto Rico</option>
                          <option value="QA">Qatar</option>
                          <option value="RE">Reunion</option>
                          <option value="RO">Romania</option>
                          <option value="RU">Russian Federation</option>
                          <option value="RW">Rwanda</option>
                          <option value="BL">Saint Barthelemy</option>
                          <option value="SH">Saint Helena</option>
                          <option value="KN">Saint Kitts and Nevis</option>
                          <option value="LC">Saint Lucia</option>
                          <option value="MF">Saint Martin</option>
                          <option value="PM">Saint Pierre and Miquelon</option>
                          <option value="VC">Saint Vincent and the Grenadines</option>
                          <option value="WS">Samoa</option>
                          <option value="SM">San Marino</option>
                          <option value="ST">Sao Tome and Principe</option>
                          <option value="SA">Saudi Arabia</option>
                          <option value="SN">Senegal</option>
                          <option value="RS">Serbia</option>
                          <option value="CS">Serbia and Montenegro</option>
                          <option value="SC">Seychelles</option>
                          <option value="SL">Sierra Leone</option>
                          <option value="SG">Singapore</option>
                          <option value="SX">Sint Maarten</option>
                          <option value="SK">Slovakia</option>
                          <option value="SI">Slovenia</option>
                          <option value="SB">Solomon Islands</option>
                          <option value="SO">Somalia</option>
                          <option value="ZA">South Africa</option>
                          <option value="GS">South Georgia and the South Sandwich Islands</option>
                          <option value="SS">South Sudan</option>
                          <option value="ES">Spain</option>
                          <option value="LK">Sri Lanka</option>
                          <option value="SD">Sudan</option>
                          <option value="SR">Suriname</option>
                          <option value="SJ">Svalbard and Jan Mayen</option>
                          <option value="SZ">Swaziland</option>
                          <option value="SE">Sweden</option>
                          <option value="CH">Switzerland</option>
                          <option value="SY">Syrian Arab Republic</option>
                          <option value="TW">Taiwan, Province of China</option>
                          <option value="TJ">Tajikistan</option>
                          <option value="TZ">Tanzania, United Republic of</option>
                          <option value="TH">Thailand</option>
                          <option value="TL">Timor-Leste</option>
                          <option value="TG">Togo</option>
                          <option value="TK">Tokelau</option>
                          <option value="TO">Tonga</option>
                          <option value="TT">Trinidad and Tobago</option>
                          <option value="TN">Tunisia</option>
                          <option value="TR">Turkey</option>
                          <option value="TM">Turkmenistan</option>
                          <option value="TC">Turks and Caicos Islands</option>
                          <option value="TV">Tuvalu</option>
                          <option value="UG">Uganda</option>
                          <option value="UA">Ukraine</option>
                          <option value="AE">United Arab Emirates</option>
                          <option value="GB">United Kingdom</option>
                          <option value="US">United States</option>
                          <option value="UM">United States Minor Outlying Islands</option>
                          <option value="UY">Uruguay</option>
                          <option value="UZ">Uzbekistan</option>
                          <option value="VU">Vanuatu</option>
                          <option value="VE">Venezuela</option>
                          <option value="VN">Viet Nam</option>
                          <option value="VG">Virgin Islands, British</option>
                          <option value="VI">Virgin Islands, U.s.</option>
                          <option value="WF">Wallis and Futuna</option>
                          <option value="EH">Western Sahara</option>
                          <option value="YE">Yemen</option>
                          <option value="ZM">Zambia</option>
                          <option value="ZW">Zimbabwe</option>
                        </select>
                      </div>
                      <div class="form-group">
                        <label for="city">City</label>
                        <input type="text" class="form-control" name="city" id="city" placeholder="">
                      </div>
                      <div class="form-group">
                        <label for="state">State/Emirate</label>
                        <input type="text" class="form-control" name="state" id="state" placeholder="">
                      </div>
                      <div class="form-group">
                        <label for="zip_code">ZIP Code</label>
                        <input type="text" class="form-control" name="zip_code" id="zip_code" placeholder="">
                      </div>
                      <div class="form-group fulwith">
                        <label for="message">Message</label>
                        <textarea class="form-control" id="message" name="message" rows="3"></textarea>
                      </div>
                      <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <!-- --------enquirymodal---------- -->
          </div>

          {%- comment -%}
            --------------------------------------------------------------------------------------
            UPSELL
            --------------------------------------------------------------------------------------
          {%- endcomment -%}

          {%- assign upsell_collection = section.settings.upsell_collection -%}

          {%- if section.blocks.size > 0 or upsell_collection != blank -%}
            <div class="container">
              {%- if section.blocks.size > 0 -%}
                <div class="section">
                  <header class="section__header">
                    <h2 class="section__title heading h3">{{ section.settings.trust_heading | escape }}</h2>
                  </header>

                  <div class="text-with-icons text-with-icons--boxed">
                    {%- for block in section.blocks -%}
                      <div class="text-with-icons__item" {{ block.shopify_attributes }}>
                        <div class="text-with-icons__icon-wrapper">
                          {%- if block.settings.custom_icon != blank -%}
                            <img
                              src="{{ block.settings.custom_icon | img_url: '60x' }}"
                              alt="{{ block.settings.custom_icon.alt | escape }}"
                            >
                          {%- else -%}
                            {%- render 'icon', icon: block.settings.icon, stroke_width: 1.5 -%}
                          {%- endif -%}
                        </div>

                        {%- if block.settings.title != blank or block.settings.content != blank -%}
                          <div class="text-with-icons__content-wrapper">
                            {%- if block.settings.title != blank -%}
                              <p class="text-with-icons__title text--strong">{{ block.settings.title | escape }}</p>
                            {%- endif -%}

                            {%- if block.settings.content != blank -%}
                              <div class="text-with-icons__content rte">
                                {{ block.settings.content }}
                              </div>
                            {%- endif -%}
                          </div>
                        {%- endif -%}
                      </div>
                    {%- endfor -%}
                  </div>
                </div>
              {%- endif -%}

              {%- if upsell_collection != empty -%}
                {%- comment -%}We iterate through all the products, by making sure to remove those that are already in the cart{%- endcomment -%}

                {%- capture upsell_products -%}
                  {%- assign upsell_products_count = 0 -%}

                  {%- for product in upsell_collection.products -%}
                    {%- unless product.available -%}
                      {%- continue -%}
                    {%- endunless -%}

                    {%- assign include_product = true -%}

                    {%- for line_item in cart.items -%}
                      {%- if line_item.product_id == product.id -%}
                        {%- assign include_product = false -%}
                        {%- break -%}
                      {%- endif -%}
                    {%- endfor -%}

                    {%- if include_product -%}
                      {%- render 'product-item', product: product, show_add_to_cart: true, grid_classes: '1/3--lap 1/3--desk 1/4--wide' -%}

                      {%- comment -%}Check how much products we have shown and limit{%- endcomment -%}
                      {%- assign upsell_products_count = upsell_products_count | plus: 1 -%}

                      {%- if upsell_products_count >= section.settings.upsell_products_count -%}
                        {%- break -%}
                      {%- endif -%}
                    {%- endif -%}
                  {%- endfor -%}
                {%- endcapture -%}

                {%- if upsell_products != blank -%}
                  {%- capture section_settings -%}
                  {
                    "stackable": false,
                    "layout": "vertical"
                  }
                  {%- endcapture -%}

                  <div
                    class="section"
                    data-section-id="{{ section.id }}-upsell"
                    data-section-type="featured-collection"
                    data-section-settings="{{ section_settings }}"
                  >
                    <header class="section__header">
                      <h2 class="section__title heading h3">{{ section.settings.upsell_heading | escape }}</h2>
                    </header>

                    <div class="scroller">
                      <div class="scroller__inner">
                        <div class="product-list product-list--vertical product-list--scrollable">
                          {{ upsell_products }}
                        </div>
                      </div>
                    </div>
                  </div>

                  {%- comment -%}
                    --------------------------------------------------------------------------------------
                    QUICK VIEW CONTAINER
                    --------------------------------------------------------------------------------------
                  {%- endcomment -%}

                  <div id="modal-quick-view-{{ section.id }}" class="modal" aria-hidden="true">
                    <div class="modal__dialog modal__dialog--stretch" role="dialog">
                      <div class="modal__loader">
                        {%- render 'icon', icon: 'search-loader' -%}
                      </div>

                      <div class="modal__inner"></div>
                    </div>
                  </div>
                {%- endif -%}
              {%- endif -%}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  {%- endif -%}
</section>
<style>
  .alert-danger {
    background: #ff4f48;
    border: 1px solid #ff4f48;
    padding: 5px;
    margin: 5px;
    color: #fff;
    font-weight: bold;
  }

  .alert-success {
    background: #008a00;
    border: 1px solid #008a00;
    padding: 5px;
    margin: 5px;
    color: #fff;
    font-weight: bold;
  }
</style>
<script>
  function opemodal(id){
    var m = document.getElementById(id);
    if(m.style.display == "block"){
      m.style.display = "none"
      document.documentElement.classList.remove("otherclass");
            document.body.classList.remove("otherclass");
    }
    else{
      m.style.display = "flex"
        document.documentElement.classList.add("otherclass");
        document.body.classList.add("otherclass");
    }
  }
  function closedmodal(id){
     var m = document.getElementById(id)
    if(m.style.display == "none"){
      m.style.display = "flex"
      document.documentElement.classList.add("otherclass");
      document.body.classList.add("otherclass");
    }
    else{
        m.style.display = "none"
        document.documentElement.classList.remove("otherclass");
        document.body.classList.remove("otherclass");
    }
  }
  function MsgDiv(cls, msg) {
    return '<div class="alert alert-'+cls+'">'+msg+'</div>';
  }
</script>
<script>
   var cartForm = document.getElementById("cartEnqForm");
   var msgDivEl = document.getElementById("auth-enq-msg");
   var msgDivElDan = document.getElementById("enq-msg");

   cartForm.addEventListener('submit', function(e){
  	e.preventDefault();
         var purchase_order_reference = document.getElementById("purchase_order_reference").value;

         var cartObj  = {{ cart|json  }}

         var formData = new FormData(cartForm);
         formData.append('purchase_order_reference', purchase_order_reference);
         formData.append('cart_data', JSON.stringify(cartObj));

  	fetch("/apps/org/api/v1/admins/guest-enquiries/store", {
  		method: 'POST',
  		body: formData
  	})
         .then(response => response.json())
         .then(data=> {
           if(data.status == false){
             msgDivElDan.innerHTML = MsgDiv("danger", data.message);
           }
           else{
             fetch("/cart/clear.js", {
     			method: 'POST',
     			body: {}
     		}).then(response => response.json())
             .then(res => {
               window.location.href = "https://classic-educational.ae/pages/thank-you";
             });

             // msgDivEl.innerHTML = MsgDiv("success", data.message);
             // closedmodal('enquiry');
             // setTimeout(function(){
             //     msgDivEl.innerHTML = "";
             //     cartForm.reset();
             //     window.location.reload();
             // }, 5000);
           }
         })
         .catch(function(err) {
  		console.error("err", err);
  	});
  });
</script>
<script>
   var authCartForm = document.getElementById("authCartEnqForm");
   var authMsgDivEl = document.getElementById("auth-enq-msg");
   authCartForm.addEventListener('submit', function(e){
  	e.preventDefault();
         var purchase_order_reference = document.getElementById("purchase_order_reference").value;

         var cartObj  = {{ cart|json  }}

         var formData = new FormData(authCartForm);
         formData.append('purchase_order_reference', purchase_order_reference);
         formData.append('cart_data', JSON.stringify(cartObj));

  	fetch("/apps/org/api/v1/admins/enquiries/store", {
  		method: 'POST',
  		body: formData
  	})
         .then(response => response.json())
         .then(data=> {
           if(data.status == false){
             authMsgDivEl.innerHTML = MsgDiv("danger", data.message);
           }
           else{

             fetch("/cart/clear.js", {
     			method: 'POST',
     			body: {}
     		}).then(response => response.json())
             .then(res => {
               window.location.href = "https://classic-educational.ae/pages/thank-you";
             });

             // authMsgDivEl.innerHTML = MsgDiv("success", data.message);
             // setTimeout(function(){
             //     authMsgDivEl.innerHTML = "";
             //     authCartForm.reset();
             //     window.location.reload();
             // }, 5000);
           }
         })
         .catch(function(err) {
  		console.error("err", err);
  	});
  });
</script>
{% schema %}
{
  "name": "Cart",
  "max_blocks": 3,
  "settings": [
    {
      "type": "paragraph",
      "content": "Those settings are only applicable when the cart contains at least one product."
    },
    {
      "type": "checkbox",
      "id": "enable_order_notes",
      "label": "Enable order notes",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "Show payment icons",
      "default": true
    },
    {
      "type": "header",
      "content": "Gift wrap"
    },
    {
      "type": "paragraph",
      "content": "Gift wrap needs to be set up as a product. [Read more](https://support.maestrooo.com/article/190-cart-set-up-a-gift-wrap-product)"
    },
    {
      "type": "product",
      "id": "gift_wrap_product",
      "label": "Product"
    },
    {
      "type": "text",
      "id": "gift_wrap_text",
      "label": "Text",
      "default": "Do you want a gift wrap?"
    },
    {
      "type": "text",
      "id": "gift_wrap_button",
      "label": "Button",
      "default": "Add a gift wrap"
    },
    {
      "type": "header",
      "content": "Shipping estimator"
    },
    {
      "type": "checkbox",
      "id": "show_shipping_estimator",
      "label": "Show shipping rates calculator",
      "default": true
    },
    {
      "type": "text",
      "id": "shipping_estimator_default_country",
      "label": "Default country",
      "info": "If the customer is logged in, the country of their shipping address will be used.",
      "default": "United States"
    },
    {
      "type": "text",
      "id": "trust_heading",
      "label": "Heading",
      "default": "Our guarantees"
    },
    {
      "type": "header",
      "content": "Upsell"
    },
    {
      "type": "paragraph",
      "content": "Show additional products to encourage customers to buy more."
    },
    {
      "type": "text",
      "id": "upsell_heading",
      "label": "Heading",
      "default": "Complete your cart"
    },
    {
      "type": "collection",
      "id": "upsell_collection",
      "label": "Collection",
      "info": "Products already in cart or sold out will be hidden."
    },
    {
      "type": "range",
      "id": "upsell_products_count",
      "label": "Products to show",
      "min": 4,
      "max": 12,
      "step": 4,
      "default": 4
    }
  ],
  "blocks": [
    {
      "name": "Trust text",
      "type": "trust",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            {
              "value": "bi-add-to-cart",
              "label": "Add to cart",
              "group": "Shop"
            },
            {
              "value": "bi-gift-wrap",
              "label": "Gift wrap",
              "group": "Shop"
            },
            {
              "value": "bi-gift-box",
              "label": "Gift box",
              "group": "Shop"
            },
            {
              "value": "bi-heart",
              "label": "Heart",
              "group": "Shop"
            },
            {
              "value": "bi-ecology",
              "label": "Ecology",
              "group": "Shop"
            },
            {
              "value": "bi-plant",
              "label": "Plant",
              "group": "Shop"
            },
            {
              "value": "bi-shop",
              "label": "Shop",
              "group": "Shop"
            },
            {
              "value": "bi-shop-pin",
              "label": "Shop with pin",
              "group": "Shop"
            },
            {
              "value": "bi-alert",
              "label": "Alert",
              "group": "Communication"
            },
            {
              "value": "bi-chat",
              "label": "Chat",
              "group": "Communication"
            },
            {
              "value": "bi-comment",
              "label": "Comment",
              "group": "Communication"
            },
            {
              "value": "bi-customer-support",
              "label": "Customer support",
              "group": "Communication"
            },
            {
              "value": "bi-email",
              "label": "Email",
              "group": "Communication"
            },
            {
              "value": "bi-network",
              "label": "Network",
              "group": "Communication"
            },
            {
              "value": "bi-newsletter",
              "label": "Newsletter",
              "group": "Communication"
            },
            {
              "value": "bi-love",
              "label": "Love",
              "group": "Communication"
            },
            {
              "value": "bi-phone",
              "label": "Phone",
              "group": "Communication"
            },
            {
              "value": "bi-share",
              "label": "Share",
              "group": "Communication"
            },
            {
              "value": "bi-delivery",
              "label": "Delivery",
              "group": "Delivery"
            },
            {
              "value": "bi-fast-delivery",
              "label": "Fast delivery",
              "group": "Delivery"
            },
            {
              "value": "bi-returns",
              "label": "Returns",
              "group": "Delivery"
            },
            {
              "value": "bi-time",
              "label": "Time",
              "group": "Delivery"
            },
            {
              "value": "bi-secure-payment",
              "label": "Secure payment",
              "group": "Security"
            },
            {
              "value": "bi-mobile-payment",
              "label": "Mobile payment",
              "group": "Security"
            },
            {
              "value": "bi-credit-card",
              "label": "Credit card",
              "group": "Security"
            },
            {
              "value": "bi-shield",
              "label": "Shield",
              "group": "Security"
            }
          ],
          "default": "bi-customer-support"
        },
        {
          "type": "image_picker",
          "id": "custom_icon",
          "label": "Custom icon",
          "info": "60 x 60px .png with transparency recommended"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Your title"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>Short content about your store</p>"
        }
      ]
    }
  ]
}
{% endschema %}
